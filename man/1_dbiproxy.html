<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Tue Aug  2 15:32:16 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DBIPROXY</title>

</head>
<body>

<h1 align="center">DBIPROXY</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">dbiproxy
&minus; A proxy server for the DBD::Proxy driver</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">    dbiproxy &lt;options&gt; &minus;&minus;localport=&lt;port&gt;</pre>


<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This tool is
just a front end for the DBI::ProxyServer package. All it
does is picking options from the command line and calling
<i>DBI::ProxyServer::main()</i>. See DBI::ProxyServer for
details.</p>

<p style="margin-left:11%; margin-top: 1em">Available
options include: <b><br>
&minus;&minus;chroot=dir</b></p>

<p style="margin-left:17%;">( <small>UNIX</small> only)
After doing a <i>bind()</i>, change root directory to the
given directory by doing a <i>chroot()</i>. This is useful
for security, but it restricts the environment a lot. For
example, you need to load <small>DBI</small> drivers in the
config file or you have to create hard links to Unix
sockets, if your drivers are using them. For example, with
MySQL, a config file might contain the following lines:</p>

<pre style="margin-left:17%; margin-top: 1em">    my $rootdir = '/var/dbiproxy';
    my $unixsockdir = '/tmp';
    my $unixsockfile = 'mysql.sock';
    foreach $dir ($rootdir, &quot;$rootdir$unixsockdir&quot;) {
        mkdir 0755, $dir;
    }
    link(&quot;$unixsockdir/$unixsockfile&quot;,
         &quot;$rootdir$unixsockdir/$unixsockfile&quot;);
    require DBD::mysql;
    {
        'chroot' =&gt; $rootdir,
        ...
    }</pre>


<p style="margin-left:17%; margin-top: 1em">If you
don&rsquo;t know <i>chroot()</i>, think of an
<small>FTP</small> server where you can see a certain
directory tree only after logging in. See also the
&minus;&minus;group and &minus;&minus;user options.</p>


<p style="margin-left:11%;"><b>&minus;&minus;configfile=file</b></p>

<p style="margin-left:17%;">Config files are assumed to
return a single hash ref that overrides the arguments of the
new method. However, command line arguments in turn take
precedence over the config file. See the &quot;
<small>CONFIGURATION FILE&quot;</small> section in the
DBI::ProxyServer documentation for details on the config
file.</p>

<p style="margin-left:11%;"><b>&minus;&minus;debug</b></p>

<p style="margin-left:17%;">Turn debugging mode on. Mainly
this asserts that logging messages of level
&quot;debug&quot; are created.</p>


<p style="margin-left:11%;"><b>&minus;&minus;facility=mode</b></p>

<p style="margin-left:17%;">( <small>UNIX</small> only)
Facility to use for Sys::Syslog. The default is
<b>daemon</b>.</p>


<p style="margin-left:11%;"><b>&minus;&minus;group=gid</b></p>

<p style="margin-left:17%;">After doing a <i>bind()</i>,
change the real and effective <small>GID</small> to the
given. This is useful, if you want your server to bind to a
privileged port (&lt;1024), but don&rsquo;t want the server
to execute as root. See also the &minus;&minus;user
option.</p>


<p style="margin-left:17%; margin-top: 1em"><small>GID</small>
&rsquo;s can be passed as group names or numeric values.</p>


<p style="margin-left:11%;"><b>&minus;&minus;localaddr=ip</b></p>

<p style="margin-left:17%;">By default a daemon is
listening to any <small>IP</small> number that a machine
has. This attribute allows to restrict the server to the
given <small>IP</small> number.</p>


<p style="margin-left:11%;"><b>&minus;&minus;localport=port</b></p>

<p style="margin-left:17%;">This attribute sets the port on
which the daemon is listening. It must be given somehow, as
there&rsquo;s no default.</p>


<p style="margin-left:11%;"><b>&minus;&minus;logfile=file</b></p>

<p style="margin-left:17%;">Be default logging messages
will be written to the syslog (Unix) or to the event log
(Windows <small>NT</small> ). On other operating systems you
need to specify a log file. The special value &quot;
<small>STDERR&quot;</small> forces logging to stderr. See
Net::Daemon::Log for details.</p>


<p style="margin-left:11%;"><b>&minus;&minus;mode=modename</b></p>

<p style="margin-left:17%;">The server can run in three
different modes, depending on the environment.</p>

<p style="margin-left:17%; margin-top: 1em">If you are
running Perl 5.005 and did compile it for threads, then the
server will create a new thread for each connection. The
thread will execute the server&rsquo;s <i>Run()</i> method
and then terminate. This mode is the default, you can force
it with &quot;&minus;&minus;mode=threads&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">If threads are
not available, but you have a working <i>fork()</i>, then
the server will behave similar by creating a new process for
each connection. This mode will be used automatically in the
absence of threads or if you use the
&quot;&minus;&minus;mode=fork&quot; option.</p>

<p style="margin-left:17%; margin-top: 1em">Finally
there&rsquo;s a single-connection mode: If the server has
accepted a connection, he will enter the <i>Run()</i>
method. No other connections are accepted until the
<i>Run()</i> method returns (if the client disconnects).
This operation mode is useful if you have neither threads
nor <i>fork()</i>, for example on the Macintosh. For
debugging purposes you can force this mode with
&quot;&minus;&minus;mode=single&quot;.</p>


<p style="margin-left:11%;"><b>&minus;&minus;pidfile=file</b></p>

<p style="margin-left:17%;">( <small>UNIX</small> only) If
this option is present, a <small>PID</small> file will be
created at the given location. Default is to not create a
pidfile.</p>


<p style="margin-left:11%;"><b>&minus;&minus;user=uid</b></p>

<p style="margin-left:17%;">After doing a <i>bind()</i>,
change the real and effective <small>UID</small> to the
given. This is useful, if you want your server to bind to a
privileged port (&lt;1024), but don&rsquo;t want the server
to execute as root. See also the &minus;&minus;group and the
&minus;&minus;chroot options.</p>


<p style="margin-left:17%; margin-top: 1em"><small>UID</small>
&rsquo;s can be passed as group names or numeric values.</p>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Supresses startup of the
server; instead the version string will be printed and the
program exits immediately.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<pre style="margin-left:11%; margin-top: 1em">    Copyright (c) 1997    Jochen Wiedmann
                          Am Eisteich 9
                          72555 Metzingen
                          Germany
                          Email: joe@ispsoft.de
                          Phone: +49 7123 14881</pre>


<p style="margin-left:11%; margin-top: 1em">The
DBI::ProxyServer module is free software; you can
redistribute it and/or modify it under the same terms as
Perl itself. In particular permission is granted to Tim
Bunce for distributing this as a part of the
<small>DBI.</small></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">DBI::ProxyServer,
DBD::Proxy, <small>DBI</small></p>
<hr>
</body>
</html>
