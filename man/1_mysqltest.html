<!-- Creator     : groff version 1.22.2 -->
<!-- CreationDate: Tue Aug  2 15:36:12 2016 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MYSQLTEST</title>

</head>
<body>

<h1 align="center">MYSQLTEST</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mysqltest
&minus; program to run test cases <br>
mysqltest_embedded &minus; program to run embedded test
cases</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="58%">


<p style="margin-top: 1em"><b>mysqltest
[</b><i>options</i><b>] [</b><i>db_name</i><b>]</b></p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="58%">


<p style="margin-top: 1em"><b>mysqltest_embedded
[</b><i>options</i><b>] [</b><i>db_name</i><b>]</b></p></td>
<td width="31%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>mysqltest</b> program runs a test case against a MySQL
server and optionally compares the output with a result
file. This program reads input written in a special test
language. Typically, you invoke <b>mysqltest</b> via
<b>mysql&minus;test&minus;run.pl</b> rather than invoking it
directly.</p>


<p style="margin-left:11%; margin-top: 1em"><b>mysqltest_embedded</b>
is similar but is built with support for the libmysqld
embedded server.</p>

<p style="margin-left:11%; margin-top: 1em">Features of
<b>mysqltest</b>:</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Can send
SQL statements to MySQL servers for execution</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Can
execute external shell commands</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Can test
whether the result from an SQL statement or shell command is
as expected</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Can
connect to one or more standalone <b>mysqld</b> servers and
switch between connections</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Can
connect to an embedded server (libmysqld), if MySQL is
compiled with support for libmysqld. (In this case, the
executable is named <b>mysqltest_embedded</b> rather than
<b>mysqltest</b>.)</p>

<p style="margin-left:11%; margin-top: 1em">By default,
<b>mysqltest</b> reads the test case on the standard input.
To run <b>mysqltest</b> this way, you normally invoke it
like this:</p>

<p style="margin-left:17%; margin-top: 1em">shell&gt;
<b>mysqltest [</b><i>options</i><b>] [</b><i>db_name</i><b>]
&lt;</b> <i>test_file</i></p>

<p style="margin-left:11%; margin-top: 1em">You can also
name the test case file with a
<b>&minus;&minus;test&minus;file=</b><i>file_name</i>
option.</p>

<p style="margin-left:11%; margin-top: 1em">The exit value
from <b>mysqltest</b> is 0 for success, 1 for failure, and
62 if it skips the test case (for example, if after checking
some preconditions it decides not to run the test).</p>


<p style="margin-left:11%; margin-top: 1em"><b>mysqltest</b>
supports the following options:</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;help</b>, <b>&minus;?</b></p>

<p style="margin-left:17%; margin-top: 1em">Display a help
message and exit.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;basedir=</b><i>dir_name</i>,
<b>&minus;b</b> <i>dir_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The base
directory for tests.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;character&minus;sets&minus;dir=</b><i>path</i></p>

<p style="margin-left:17%; margin-top: 1em">The directory
where character sets are installed.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;compress</b>, <b>&minus;C</b></p>

<p style="margin-left:17%; margin-top: 1em">Compress all
information sent between the client and the server if both
support compression.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;cursor&minus;protocol</b></p>

<p style="margin-left:17%; margin-top: 1em">Use cursors for
prepared statements.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;database=</b><i>db_name</i>,
<b>&minus;D</b> <i>db_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The default
database to use.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;debug[=</b><i>debug_options</i><b>]</b>,
<b>&minus;#[</b><i>debug_options</i><b>]</b></p>

<p style="margin-left:17%; margin-top: 1em">Write a
debugging log if MySQL is built with debugging support. The
default <i>debug_options</i> value is
&acute;d:t:S:i:O,/tmp/mysqltest.trace&acute;.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;debug&minus;check</b></p>

<p style="margin-left:17%; margin-top: 1em">Print some
debugging information when the program exits.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;debug&minus;info</b></p>

<p style="margin-left:17%; margin-top: 1em">Print debugging
information and memory and CPU usage statistics when the
program exits.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;host=</b><i>host_name</i>, <b>&minus;h</b>
<i>host_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Connect to the
MySQL server on the given host.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;include=</b><i>file_name</i>,
<b>&minus;i</b> <i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Include the
contents of the given file before processing the contents of
the test file. The included file should have the same format
as other <b>mysqltest</b> test files. This option has the
same effect as putting a &minus;&minus;source
<i>file_name</i> command as the first line of the test
file.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;logdir=</b><i>dir_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The directory
to use for log files.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;mark&minus;progress</b></p>

<p style="margin-left:17%; margin-top: 1em">Write the line
number and elapsed time to <i>test_file</i>.progress.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;max&minus;connect&minus;retries=</b><i>num</i></p>

<p style="margin-left:17%; margin-top: 1em">The maximum
number of connection attempts when connecting to server.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;max&minus;connections=</b><i>num</i></p>

<p style="margin-left:17%; margin-top: 1em">The maximum
number of simultaneous server connections per client (that
is, per test). If not set, the maximum is 128. Minimum
allowed limit is 8, maximum is 5120.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
available from MySQL 5.1.45.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;no&minus;defaults</b></p>

<p style="margin-left:17%; margin-top: 1em">Do not read
default options from any option files. If used, this must be
the first option.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;password[=</b><i>password</i><b>]</b>,
<b>&minus;p[</b><i>password</i><b>]</b></p>

<p style="margin-left:17%; margin-top: 1em">The password to
use when connecting to the server. If you use the short
option form (<b>&minus;p</b>), you <i>cannot</i> have a
space between the option and the password. If you omit the
<i>password</i> value following the
<b>&minus;&minus;password</b> or <b>&minus;p</b> option on
the command line, you are prompted for one.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;port=</b><i>port_num</i>, <b>&minus;P</b>
<i>port_num</i></p>

<p style="margin-left:17%; margin-top: 1em">The TCP/IP port
number to use for the connection.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;ps&minus;protocol</b></p>

<p style="margin-left:17%; margin-top: 1em">Use the
prepared&minus;statement protocol for communication.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%; margin-top: 1em">Suppress all
normal output. This is a synonym for
<b>&minus;&minus;silent</b>.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;record</b>, <b>&minus;r</b></p>

<p style="margin-left:17%; margin-top: 1em">Record the
output that results from running the test file into the file
named by the <b>&minus;&minus;result&minus;file</b> option,
if that option is given. It is an error to use this option
without also using
<b>&minus;&minus;result&minus;file</b>.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;result&minus;file=</b><i>file_name</i>,
<b>&minus;R</b> <i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">This option
specifies the file for test case expected results.
<b>&minus;&minus;result&minus;file</b>, together with
<b>&minus;&minus;record</b>, determines how <b>mysqltest</b>
treats the test actual and expected results for a test
case:</p>

<p style="margin-left:23%; margin-top: 1em">&bull; If the
test produces no results, <b>mysqltest</b> exits with an
error message to that effect, unless
<b>&minus;&minus;result&minus;file</b> is given and the
named file is an empty file.</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
Otherwise, if <b>&minus;&minus;result&minus;file</b> is not
given, <b>mysqltest</b> sends test results to the standard
output.</p>

<p style="margin-left:23%; margin-top: 1em">&bull; With
<b>&minus;&minus;result&minus;file</b> but not
<b>&minus;&minus;record</b>, <b>mysqltest</b> reads the
expected results from the given file and compares them with
the actual results. If the results do not match,
<b>mysqltest</b> writes a .reject file in the same directory
as the result file, outputs a diff of the two files, and
exits with an error.</p>

<p style="margin-left:23%; margin-top: 1em">&bull; With
both <b>&minus;&minus;result&minus;file</b> and
<b>&minus;&minus;record</b>, <b>mysqltest</b> updates the
given file by writing the actual test results to it.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;server&minus;arg=</b><i>value</i>,
<b>&minus;A</b> <i>value</i></p>

<p style="margin-left:17%; margin-top: 1em">Pass the
argument as an argument to the embedded server. For example,
<b>&minus;&minus;server&minus;arg=&minus;&minus;tmpdir=/tmp</b>
or <b>&minus;&minus;server&minus;arg=&minus;&minus;core</b>.
Up to 64 arguments can be given.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;server&minus;file=</b><i>file_name</i>,
<b>&minus;F</b> <i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Read arguments
for the embedded server from the given file. The file should
contain one argument per line.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;silent</b>, <b>&minus;s</b></p>

<p style="margin-left:17%; margin-top: 1em">Suppress all
normal output.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;skip&minus;safemalloc</b></p>

<p style="margin-left:17%; margin-top: 1em">Do not use
memory allocation checking.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;sleep=</b><i>num</i>, <b>&minus;T</b>
<i>num</i></p>

<p style="margin-left:17%; margin-top: 1em">Cause all sleep
commands in the test case file to sleep <i>num</i> seconds.
This option does not affect real_sleep commands.</p>

<p style="margin-left:17%; margin-top: 1em">As of MySQL
5.0.23, an option value of 0 can be used, which effectively
disables sleep commands in the test case.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;socket=</b><i>path</i>, <b>&minus;S</b>
<i>path</i></p>

<p style="margin-left:17%; margin-top: 1em">The socket file
to use when connecting to localhost (which is the default
host).</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;sp&minus;protocol</b></p>

<p style="margin-left:17%; margin-top: 1em">Execute DML
statements within a stored procedure. For every DML
statement, <b>mysqltest</b> creates and invokes a stored
procedure that executes the statement rather than executing
the statement directly.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;tail&minus;lines=</b><i>nn</i></p>

<p style="margin-left:17%; margin-top: 1em">Specify how
many lines of the result to include in the output if the
test fails because an SQL statement fails. The default is 0,
meaning no lines of result printed.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;test&minus;file=</b><i>file_name</i>,
<b>&minus;x</b> <i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">Read test input
from this file. The default is to read from the standard
input.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;timer&minus;file=</b><i>file_name</i>,
<b>&minus;m</b> <i>file_name</i></p>

<p style="margin-left:17%; margin-top: 1em">If given, the
number of millisecond spent running the test will be written
to this file. This is used by
<b>mysql&minus;test&minus;run.pl</b> for its reporting.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;tmpdir=</b><i>dir_name</i>, <b>&minus;t</b>
<i>dir_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The temporary
directory where socket files are created.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;user=</b><i>user_name</i>, <b>&minus;u</b>
<i>user_name</i></p>

<p style="margin-left:17%; margin-top: 1em">The MySQL user
name to use when connecting to the server.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;verbose</b>, <b>&minus;v</b></p>

<p style="margin-left:17%; margin-top: 1em">Verbose mode.
Print out more information about what the program does.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;version</b>, <b>&minus;V</b></p>

<p style="margin-left:17%; margin-top: 1em">Display version
information and exit.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
<b>&minus;&minus;view&minus;protocol</b></p>

<p style="margin-left:17%; margin-top: 1em">Every SELECT
statement is wrapped inside a view. This option was added in
MySQL 5.0.19.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2007, 2010, Oracle and/or its affiliates</p>

<p style="margin-left:11%; margin-top: 1em">This
documentation is free software; you can redistribute it
and/or modify it only under the terms of the GNU General
Public License as published by the Free Software Foundation;
version 2 of the License.</p>

<p style="margin-left:11%; margin-top: 1em">This
documentation is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more
details.</p>

<p style="margin-left:11%; margin-top: 1em">You should have
received a copy of the GNU General Public License along with
the program; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301
USA or see http://www.gnu.org/licenses/.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For more
information, please refer to the MySQL Reference Manual,
which may already be installed locally and which is also
available online at http://dev.mysql.com/doc/.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sun
Microsystems, Inc. (http://www.mysql.com/).</p>
<hr>
</body>
</html>
